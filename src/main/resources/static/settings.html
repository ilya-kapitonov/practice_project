<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Настройки - Категории и Состояния</title>
  <link href="/css/style.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark mb-4">
  <div class="container">
    <a class="navbar-brand" href="/">Учет спортивного оборудования</a>
    <ul class="navbar-nav">
      <li class="nav-item"><a class="nav-link" href="/index.html">Оборудование</a></li>
      <li class="nav-item"><a class="nav-link active" href="/settings.html">Настройки</a></li>
    </ul>
  </div>
</nav>

<div class="settings-container container">
  <section class="settings-column">
    <h2>Категории</h2>
    <button class="btn mb-3" id="addCategoryBtn" title="Добавить категорию">
      <i class="bi bi-plus-circle"></i>
    </button>
    <table class="table table-striped table-bordered mb-5">
      <thead>
      <tr>
        <th>Название категории</th>
        <th>Описание</th>
        <th class="actions-cell" title="Действия"><i class="bi bi-x-diamond-fill"></i></th>
      </tr>
      </thead>
      <tbody id="categoriesTableBody"></tbody>
    </table>
  </section>

  <section class="settings-column">
    <h2>Состояния оборудования</h2>
    <button class="btn mb-3" id="addConditionBtn" title="Добавить состояние">
      <i class="bi bi-plus-circle"></i>
    </button>
    <table class="table table-striped table-bordered">
      <thead>
      <tr>
        <th>Название состояния</th>
        <th class="actions-cell" title="Действия"><i class="bi bi-x-diamond-fill"></i></th>
      </tr>
      </thead>
      <tbody id="conditionsTableBody"></tbody>
    </table>
  </section>
</div>

<!-- Категория -->
<div class="modal fade" id="categoryModal" tabindex="-1" aria-labelledby="categoryModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form id="categoryForm" class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="categoryModalLabel">Добавить категорию</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
      </div>
      <div class="modal-body">
        <input type="hidden" id="categoryId" />
        <div class="mb-3">
          <label for="categoryNameInput" class="form-label">Название категории *</label>
          <input type="text" class="form-control" id="categoryNameInput" maxlength="100" required />
        </div>
        <div class="mb-3">
          <label for="categoryDescriptionInput" class="form-label">Описание</label>
          <textarea class="form-control" id="categoryDescriptionInput" rows="3"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
        <button type="submit" class="btn btn-primary" id="categorySaveBtn">Сохранить</button>
      </div>
    </form>
  </div>
</div>

<!-- Состояние -->
<div class="modal fade" id="conditionModal" tabindex="-1" aria-labelledby="conditionModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form id="conditionForm" class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="conditionModalLabel">Добавить состояние</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
      </div>
      <div class="modal-body">
        <input type="hidden" id="conditionId" />
        <div class="mb-3">
          <label for="conditionNameInput" class="form-label">Название состояния *</label>
          <input type="text" class="form-control" id="conditionNameInput" maxlength="100" required />
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
        <button type="submit" class="btn btn-primary" id="conditionSaveBtn">Сохранить</button>
      </div>
    </form>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/settings.js"></script>
</body>
</html>